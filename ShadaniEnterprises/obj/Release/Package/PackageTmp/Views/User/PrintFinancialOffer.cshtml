<!DOCTYPE html>
<html lang="en">
@model ShadaniEnterprises.Models.FinancialOfferList
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Print Financial Offer</title>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

    <style>


        .invoice-title h2, .invoice-title h3 {
            display: inline-block;
        }

        .table > tbody > tr > .no-line {
            border-top: none;
        }

        .table > thead > tr > .no-line {
            border-bottom: none;
        }

        .table > tbody > tr > .thick-line {
            border-top: 2px solid;
        }

        .footer {
            position: relative;
            left: 0;
            bottom: 0;
            width: 100%;
            color: darkblue;
            text-align: center;
        }

        .panel-footer {
            text-align: center;
            position: relative;
      
        }

            .panel-footer .right {
                position: absolute;
                right: 0;
                /* vertically center the icon */
                top: 50%;
                transform: translateY(-50%);
            }

            .panel-footer .left {
                position: absolute;
                left: 0;
                /* vertically center the icon */
                top: 50%;
                transform: translateY(-50%);
            }

            .panel-footer p {
                font-size: medium;
                padding: 0 20px; /* leave space for the icon adjust this value depending on how big your icon is */
            }
    </style>
</head>
<body style="overflow:hidden;">
    <div class="container">
        <div class="row">
          
            @for (int x = 0; x < Model.LstFinancialOffer.Count(); x++)

            {

                <div class="col-xs-12">
                    <div class="panel-footer">
                        <img src="../../img/2.png" alt='logo' class="left">
                        <span style="font-size:16px; font-weight:bold; text-decoration:underline;">@Model.LstFinancialOffer[x].CustomerName</span> <br/> <span style="font-size:12px; font-weight:bold"> @Model.LstFinancialOffer[x].Desc1  <br /> @Model.LstFinancialOffer[x].Desc2 <br /> @Model.LstFinancialOffer[x].Desc3 </span>
                        <h2 class="right" style="font-size:20px; font-weight:bold">FINANCIAL OFFERED</h2>
                    </div><br />

                </div>
            }
      
            <div class="col-md-12" style="padding-top:0">
                <div class="panel panel-default">
                    @*<div class="panel-heading">
                        <h3 class="panel-title"><strong>Order summary</strong></h3>
                    </div>*@
                   
                      
                            <table class="table table-condensed" id="countit">
                                <thead>
                                    <tr>
                                        <th><strong style="font-size:10px;">Item Code</strong></th>
                                        <th><strong style="font-size:10px; white-space: nowrap;">A/U</strong></th>
                                        <th class="text-left"><strong style="font-size:10px;">Generic Name</strong></th>
                                        <th><strong style="font-size:10px;">Tender Quantity</strong></th>
                                        <th><strong style="font-size:10px;">Pack Size</strong></th>
                                        <th><strong style="font-size:10px;">Drug Registration Number</strong></th>
                                        <th><strong style="font-size:10px;">Brand Name</strong></th>
                                        <th><strong style="font-size:10px;">Manufacturer Name and Country</strong></th>
                                        <th><strong style="font-size:10px;">Trade Price</strong></th>
                                        <th><strong style="font-size:10px;">Customer Bid Rates Per Tab / Cap / Unit</strong></th>
                                        <th><strong style="font-size:10px;">Customer Bid Rates Per Tab / Cap / Unit Inwords</strong></th>
                                        <th><strong style="font-size:10px;">Total Amount of Qouted Item</strong></th>
                                        <th><strong style="font-size:10px;"> % Amount of Quoted Item As Per Tender Quantity</strong></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int y = 0; y < Model.LstFinancialOfferDetails.Count(); y++)
                                    {
                                        int z = y + 1;
                                        <tr>
                                            <td style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].ItemCode</td>
                                            <td style="font-size:12px;  width:1px; white-space:nowrap">@Model.LstFinancialOfferDetails[y].AcUnit</td>
                                            <td class="text-left" style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].Generic_Name</td>
                                            <td style="font-size:12px;  width:1px; white-space:nowrap">@Model.LstFinancialOfferDetails[y].TenderQuntity</td>
                                            <td style="font-size:12px;  white-space: nowrap;">@Model.LstFinancialOfferDetails[y].Pack</td>
                                            <td style="font-size:12px;  white-space: nowrap;">@Model.LstFinancialOfferDetails[y].drugProdregNum</td>
                                            <td style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].Product_Brand_Name</td>
                                            <td style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].CompanyName</td>

                                            <td style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].TradePrice</td>
                                            <td class="cus-bid" style="font-size:12px; font-weight:bold; white-space: nowrap;" id="amt">@Model.LstFinancialOfferDetails[y].CustBidRate</td>
                                            <td class="cus-bid-inwords" style="font-size:12px; white-space: nowrap;" id="jan"></td>
                                            <td class="count-me" style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].TotalAmount</td>
                                            <td class="count-mePercent" style="font-size:12px; white-space: nowrap;">@Model.LstFinancialOfferDetails[y].PercentCalculated</td>

                                        </tr>

                                    }
                                    <tr>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"><strong style="font-size:12px; font-weight:bold; padding-right:10px; white-space:nowrap">Total Bid Value</strong></td>
                                        <td class="thick-line"><span id="grandTotal" style="font-size:12px; font-weight:bold; padding-right:7px; white-space:nowrap"></span></td>

                                    </tr>

                                    @*@for (int x = 0; x < Model.LstFinancialOfferDetails.Count(); x++)
                                    {*@
                                        <tr>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"></td>
                                            <td class="no-line"><strong style="font-size:12px; font-weight:bold; padding-right:10px">% Earnest Money Value</strong></td>
                                            <td class="no-line"><span id="grandTotalPercent" style="font-size:12px; font-weight:bold; padding-right:7px"></span></td>
                                        </tr>
                                    @*}*@

                                </tbody>
                            </table>
                            @*<div style="text-align: center;">
                                <span id="inWords" style="align-self:center"></span>
                            </div>*@
                     
                   
                </div>
            </div>
        </div>


        @for (int x = 0; x < Model.LstFinancialOffer.Count(); x++)

        {
            
        <div class="row">
            <div class="col-xs-6 text-left">
                <address>
                    <p>Please Note</p>

                    <p style="font-size:12px; font-weight:bold;">@Model.LstFinancialOffer[x].Notes1</p>


                    <p style="font-size:12px; font-weight:bold;">@Model.LstFinancialOffer[x].Notes2</p>


                    <p style="font-size:12px; font-weight:bold;">@Model.LstFinancialOffer[x].Notes3</p>
                </address>
            </div>
            <div class="col-xs-6 text-right">

                <p style="font-size:12px; font-weight:bold">Signature & Stamp of Bidder _______________________</p>


            </div>
            <div class="col-xs-6 text-right">


                <p>Name of Bidder <span style="text-decoration:underline; font-weight:bold">Jai Parkash</span> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
                <br>


            </div>


        </div>


        }

        <div class="row">
           
           

        </div>

        <div class="footer">
            <p style="font-size:10px">Address: R-96, Evacuee Society, Gulshan-e-Iqbal Block 10-A, Karachi</p> <p style="font-size:10px">Ph: +92 21 34156849 Cell # 0333-2722774 / 0334-3494435 Email: info@shadanienterprises.com</p>
        </div>
    </div>


    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script language="javascript" type="text/javascript">
            var tds = document.getElementById('countit').getElementsByTagName('td');
            var sum = 0;
            var sumPercent = 0;
            for (var i = 0; i < tds.length; i++) {
                if (tds[i].className == 'count-me') {
                    sum += isNaN(tds[i].innerHTML) ? 0 : parseFloat(tds[i].innerHTML);
                }
            }

            for (var j = 0; j < tds.length; j++) {
                if (tds[j].className == 'count-mePercent') {
                    sumPercent += isNaN(tds[j].innerHTML) ? 0 : parseFloat(tds[j].innerHTML);
                }
            }

            parseInt(document.getElementById('grandTotal').innerHTML += sum.toLocaleString() + '.00');
            parseInt(document.getElementById('grandTotalPercent').innerHTML += sumPercent.toLocaleString());

        function Rs(amount) {
            var words = new Array();
            words[0] = 'Zero'; words[1] = 'one'; words[2] = 'two'; words[3] = 'three'; words[4] = 'four'; words[5] = 'five'; words[6] = 'six'; words[7] = 'seven'; words[8] = 'eight'; words[9] = 'nine'; words[10] = 'ten'; words[11] = 'eleven'; words[12] = 'twelve'; words[13] = 'thirteen'; words[14] = 'fourteen'; words[15] = 'fifteen'; words[16] = 'sixteen'; words[17] = 'seventeen'; words[18] = 'eighteen'; words[19] = 'nineteen'; words[20] = 'twenty'; words[30] = 'thirty'; words[40] = 'forty'; words[50] = 'fifty'; words[60] = 'sixty'; words[70] = 'seventy'; words[80] = 'eighty'; words[90] = 'ninety'; var op;
            amount = amount.toString();
            var atemp = amount.split(".");
            var number = atemp[0].split(",").join("");
            var n_length = number.length;
            var words_string = "";
            if (n_length <= 9) {
                var n_array = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0);
                var received_n_array = new Array();
                for (var i = 0; i < n_length; i++) {
                    received_n_array[i] = number.substr(i, 1);
                }
                for (var i = 9 - n_length, j = 0; i < 9; i++ , j++) {
                    n_array[i] = received_n_array[j];
                }
                for (var i = 0, j = 1; i < 9; i++ , j++) {
                    if (i == 0 || i == 2 || i == 4 || i == 7) {
                        if (n_array[i] == 1) {
                            n_array[j] = 10 + parseInt(n_array[j]);
                            n_array[i] = 0;
                        }
                    }
                }
                value = "";
                for (var i = 0; i < 9; i++) {
                    if (i == 0 || i == 2 || i == 4 || i == 7) {
                        value = n_array[i] * 10;
                    } else {
                        value = n_array[i];
                    }
                    if (value != 0) {
                        words_string += words[value] + " ";
                    }
                    if ((i == 1 && value != 0) || (i == 0 && value != 0 && n_array[i + 1] == 0)) {
                        words_string += "Crores ";
                    }
                    if ((i == 3 && value != 0) || (i == 2 && value != 0 && n_array[i + 1] == 0)) {
                        words_string += "Lakhs ";
                    }
                    if ((i == 5 && value != 0) || (i == 4 && value != 0 && n_array[i + 1] == 0)) {
                        words_string += "Thousand ";
                    }
                    if (i == 6 && value != 0 && (n_array[i + 1] != 0 && n_array[i + 2] != 0)) {
                        words_string += "Hundred and ";
                    } else if (i == 6 && value != 0) {
                        words_string += "Hundred ";
                    }
                }
                words_string = words_string.split(" ").join(" ");
            }
            return words_string;
        }
        function RsPaise(element, ele2) {
            var n = Math.round(element.innerHTML * 100) / 100
            nums = n.toString().split('.')
            var whole = Rs(nums[0])
            if (nums[1] == null) nums[1] = 0;
            if (nums[1].length == 1) nums[1] = nums[1] + '0';
            if (nums[1].length > 2) { nums[1] = nums[1].substring(2, length - 1) }
            if (nums.length == 2) {
                if (nums[0] <= 9) { nums[0] = nums[0] * 10 } else { nums[0] = nums[0] };
                var fraction = Rs(nums[1])
                if (whole == '' && fraction == '') { op = 'Zero only'; }
                if (whole == '' && fraction != '') { op = 'paisas ' + fraction + ' only'; }
                if (whole != '' && fraction == '') { op = 'Rupees ' + whole + ' only'; }
                if (whole != '' && fraction != '') { op = 'Rupees ' + whole + 'and paisas ' + fraction + ' only'; }
                amt = element.innerHTML;
                if (amt > 999999999.99) { op = 'Oops!!! The amount is too big to convert'; }
                if (isNaN(amt) == true) { op = 'Error : Amount in number appears to be incorrect. Please Check.'; }
                ele2.innerHTML = op;
            }
        }
        var td = document.getElementsByClassName('cus-bid');
   
        for (i = 0; i < td.length; i++) {

            var cust_bid = td[i];
            var cust_bid_InWords = td[i].nextElementSibling;
        
            RsPaise(cust_bid, cust_bid_InWords);


        }
    //    RsPaise(Math.round(document.getElementById('amt').innerHTML * 100) / 100);
    </script>
</body>
</html>
